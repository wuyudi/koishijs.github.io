<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>发送器 (Sender) | Koishi</title>
    <meta name="description" content="">
    <link rel="icon" href="/koishi.png">
  <meta name="theme-color" content="#5546a3">
    
    <link rel="preload" href="/assets/css/0.styles.67004ee5.css" as="style"><link rel="preload" href="/assets/js/app.3f171bfd.js" as="script"><link rel="preload" href="/assets/js/2.3565e134.js" as="script"><link rel="preload" href="/assets/js/7.7ead5f91.js" as="script"><link rel="preload" href="/assets/js/23.6940fd73.js" as="script"><link rel="preload" href="/assets/js/6.b31803c1.js" as="script"><link rel="preload" href="/assets/js/5.eca008f9.js" as="script"><link rel="prefetch" href="/assets/js/10.6ba8c7c3.js"><link rel="prefetch" href="/assets/js/11.0361f298.js"><link rel="prefetch" href="/assets/js/12.6feef351.js"><link rel="prefetch" href="/assets/js/13.b03b21a5.js"><link rel="prefetch" href="/assets/js/14.7408e8c9.js"><link rel="prefetch" href="/assets/js/15.e425130e.js"><link rel="prefetch" href="/assets/js/16.bd95b0a3.js"><link rel="prefetch" href="/assets/js/17.65321faf.js"><link rel="prefetch" href="/assets/js/18.d4a026f6.js"><link rel="prefetch" href="/assets/js/19.b003494e.js"><link rel="prefetch" href="/assets/js/20.6c2e7043.js"><link rel="prefetch" href="/assets/js/21.b60b723a.js"><link rel="prefetch" href="/assets/js/22.2a3430f3.js"><link rel="prefetch" href="/assets/js/24.7fe53199.js"><link rel="prefetch" href="/assets/js/25.ebf135f0.js"><link rel="prefetch" href="/assets/js/26.be672138.js"><link rel="prefetch" href="/assets/js/27.e20002b3.js"><link rel="prefetch" href="/assets/js/28.69ca12b5.js"><link rel="prefetch" href="/assets/js/29.ca63b0d7.js"><link rel="prefetch" href="/assets/js/3.bed41596.js"><link rel="prefetch" href="/assets/js/30.5695b9a5.js"><link rel="prefetch" href="/assets/js/31.f444d79e.js"><link rel="prefetch" href="/assets/js/32.533ce854.js"><link rel="prefetch" href="/assets/js/33.ff4207d6.js"><link rel="prefetch" href="/assets/js/34.986f75fa.js"><link rel="prefetch" href="/assets/js/35.e3da5f3e.js"><link rel="prefetch" href="/assets/js/36.bae8843f.js"><link rel="prefetch" href="/assets/js/37.ef24995f.js"><link rel="prefetch" href="/assets/js/38.f4d52f32.js"><link rel="prefetch" href="/assets/js/39.8943d2cb.js"><link rel="prefetch" href="/assets/js/4.4199422d.js"><link rel="prefetch" href="/assets/js/40.f49a6865.js"><link rel="prefetch" href="/assets/js/41.70a7cd69.js"><link rel="prefetch" href="/assets/js/42.ba75fafa.js"><link rel="prefetch" href="/assets/js/43.d39a9a23.js"><link rel="prefetch" href="/assets/js/44.5b7b25c8.js"><link rel="prefetch" href="/assets/js/45.6803e6ce.js"><link rel="prefetch" href="/assets/js/46.df0d977d.js"><link rel="prefetch" href="/assets/js/47.85e8efcb.js"><link rel="prefetch" href="/assets/js/48.8f0535ba.js"><link rel="prefetch" href="/assets/js/49.25d25bcb.js"><link rel="prefetch" href="/assets/js/50.91c50898.js"><link rel="prefetch" href="/assets/js/51.fb8e2d27.js"><link rel="prefetch" href="/assets/js/52.553e26b3.js"><link rel="prefetch" href="/assets/js/53.cdfa1d8b.js"><link rel="prefetch" href="/assets/js/54.10c7ce33.js"><link rel="prefetch" href="/assets/js/55.8cf064a4.js"><link rel="prefetch" href="/assets/js/56.37f13474.js"><link rel="prefetch" href="/assets/js/57.40b1896f.js"><link rel="prefetch" href="/assets/js/58.6a993147.js"><link rel="prefetch" href="/assets/js/8.b72d0443.js"><link rel="prefetch" href="/assets/js/9.64e1463f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.67004ee5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/koishi.png" alt="Koishi" class="logo"> <span class="site-name can-hide">Koishi</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/guide/getting-started.html" class="nav-link">指南</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><a href="/plugins/" class="nav-link">官方插件</a></div><div class="nav-item"><a href="https://github.com/koishijs/koishi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/guide/getting-started.html" class="nav-link">指南</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><a href="/plugins/" class="nav-link">官方插件</a></div><div class="nav-item"><a href="https://github.com/koishijs/koishi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/api/" class="sidebar-link">总览</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>核心 API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/global.html" class="sidebar-link">全局 API</a></li><li><a href="/api/context.html" class="sidebar-link">上下文 (Context)</a></li><li><a href="/api/app.html" class="sidebar-link">应用 (App)</a></li><li><a href="/api/receiver.html" class="sidebar-link">接收器 (Receiver)</a></li><li><a href="/api/sender.html" class="active sidebar-link">发送器 (Sender)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/sender.html#消息相关" class="sidebar-link">消息相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendprivatemsg" class="sidebar-link">sender.sendPrivateMsg()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendprivatemsgasync" class="sidebar-link">sender.sendPrivateMsgAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendgroupmsg" class="sidebar-link">sender.sendGroupMsg()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendgroupmsgasync" class="sidebar-link">sender.sendGroupMsgAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-senddiscussmsg" class="sidebar-link">sender.sendDiscussMsg()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-senddiscussmsgasync" class="sidebar-link">sender.sendDiscussMsgAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-deletemsg" class="sidebar-link">sender.deleteMsg()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-deletemsgasync" class="sidebar-link">sender.deleteMsgAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendlike" class="sidebar-link">sender.sendLike()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendlikeasync" class="sidebar-link">sender.sendLikeAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendgroupnotice" class="sidebar-link">sender.sendGroupNotice()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-sendgroupnoticeasync" class="sidebar-link">sender.sendGroupNoticeAsync()</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/sender.html#操作群和讨论组" class="sidebar-link">操作群和讨论组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupkick" class="sidebar-link">sender.setGroupKick()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupkickasync" class="sidebar-link">sender.setGroupKickAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupban" class="sidebar-link">sender.setGroupBan()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupbanasync" class="sidebar-link">sender.setGroupBanAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupanonymousban" class="sidebar-link">sender.setGroupAnonymousBan()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupanonymousbanasync" class="sidebar-link">sender.setGroupAnonymousBanAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupwholeban" class="sidebar-link">sender.setGroupWholeBan()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupwholebanasync" class="sidebar-link">sender.setGroupWholeBanAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupadmin" class="sidebar-link">sender.setGroupAdmin()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupadminasync" class="sidebar-link">sender.setGroupAdminAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupanonymous" class="sidebar-link">sender.setGroupAnonymous()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupanonymousasync" class="sidebar-link">sender.setGroupAnonymousAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupcard" class="sidebar-link">sender.setGroupCard()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupcardasync" class="sidebar-link">sender.setGroupCardAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupleave" class="sidebar-link">sender.setGroupLeave()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupleaveasync" class="sidebar-link">sender.setGroupLeaveAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupspecialtitle" class="sidebar-link">sender.setGroupSpecialTitle()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupspecialtitleasync" class="sidebar-link">sender.setGroupSpecialTitleAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setdiscussleave" class="sidebar-link">sender.setDiscussLeave()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setdiscussleaveasync" class="sidebar-link">sender.setDiscussLeaveAsync()</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/sender.html#处理请求" class="sidebar-link">处理请求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setfriendaddrequest" class="sidebar-link">sender.setFriendAddRequest()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setfriendaddrequestasync" class="sidebar-link">sender.setFriendAddRequestAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupaddrequest" class="sidebar-link">sender.setGroupAddRequest()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setgroupaddrequestasync" class="sidebar-link">sender.setGroupAddRequestAsync()</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/sender.html#获取账号信息" class="sidebar-link">获取账号信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getlogininfo" class="sidebar-link">sender.getLoginInfo()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getvipinfo" class="sidebar-link">sender.getVipInfo()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getstrangerinfo" class="sidebar-link">sender.getStrangerInfo()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getfriendlist" class="sidebar-link">sender.getFriendList()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getgrouplist" class="sidebar-link">sender.getGroupList()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getgroupinfo" class="sidebar-link">sender.getGroupInfo()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getgroupmemberinfo" class="sidebar-link">sender.getGroupMemberInfo()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getgroupmemberlist" class="sidebar-link">sender.getGroupMemberList()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getgroupnotice" class="sidebar-link">sender.getGroupNotice()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getcookies" class="sidebar-link">sender.getCookies()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getcsrftoken" class="sidebar-link">sender.getCsrfToken()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getcredentials" class="sidebar-link">sender.getCredentials()</a></li></ul></li><li class="sidebar-sub-header"><a href="/api/sender.html#其他操作" class="sidebar-link">其他操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getrecord" class="sidebar-link">sender.getRecord()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getimage" class="sidebar-link">sender.getImage()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-cansendimage" class="sidebar-link">sender.canSendImage()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-cansendrecord" class="sidebar-link">sender.canSendRecord()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getstatus" class="sidebar-link">sender.getStatus()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-getversioninfo" class="sidebar-link">sender.getVersionInfo()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setrestart" class="sidebar-link">sender.setRestart()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-setrestartplugin" class="sidebar-link">sender.setRestartPlugin()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-cleandatadir" class="sidebar-link">sender.cleanDataDir()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-cleandatadirasync" class="sidebar-link">sender.cleanDataDirAsync()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-cleanpluginlog" class="sidebar-link">sender.cleanPluginLog()</a></li><li class="sidebar-sub-header"><a href="/api/sender.html#sender-cleanpluginlogasync" class="sidebar-link">sender.cleanPluginLogAsync()</a></li></ul></li></ul></li><li><a href="/api/command.html" class="sidebar-link">指令 (Command)</a></li><li><a href="/api/database.html" class="sidebar-link">数据库 (Database)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他官方包</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/utils.html" class="sidebar-link">其他工具 (Utils)</a></li><li><a href="/api/test-utils.html" class="sidebar-link">测试工具 (Test Utils)</a></li><li><a href="/api/database/level.html" class="sidebar-link">数据库：Level</a></li><li><a href="/api/database/memory.html" class="sidebar-link">数据库：memory</a></li><li><a href="/api/database/mysql.html" class="sidebar-link">数据库：MySQL</a></li><li><a href="/api/database/sqlite.html" class="sidebar-link">数据库：sqlite</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>更新日志</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/changelog/koishi.html" class="sidebar-link">koishi 及其依赖</a></li><li><a href="/api/changelog/test-utils.html" class="sidebar-link">koishi-test-utils</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="发送器"><a href="#发送器" class="header-anchor">#</a> 发送器 (Sender)</h1> <p>一个发送器封装了一套标准的 <a href="https://cqhttp.cc/docs/4.12/#/API" target="_blank" rel="noopener noreferrer">CQHTTP API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ol><li>尽管 Koishi 总体支持 CQHTTP 3.0，但是部分接口需要更高的 CQHTTP 版本才能进行调用，所需的版本会标在对应 API 的后面。</li> <li>用黄色的版本标识标识这是一个实验性 API，可能在未来发生变动。</li></ol></div> <h2 id="消息相关"><a href="#消息相关" class="header-anchor">#</a> 消息相关</h2> <h3 id="sender-sendprivatemsg"><a href="#sender-sendprivatemsg" class="header-anchor">#</a> sender.sendPrivateMsg(userId, message, autoEscape?)</h3> <p>发送私聊消息。</p> <ul><li><strong>userId:</strong> <code>number</code> 对方 QQ 号</li> <li><strong>message:</strong> <code>string</code> 要发送的内容</li> <li><strong>autoEsacpe:</strong> <code>boolean</code> 消息内容是否作为纯文本发送（即不解析 CQ 码）</li> <li>返回值: <code>Promise&lt;number&gt;</code> 新信息的 messageId</li></ul> <h3 id="sender-sendprivatemsgasync"><a href="#sender-sendprivatemsgasync" class="header-anchor">#</a> sender.sendPrivateMsgAsync(userId, message, autoEscape?)</h3> <p>发送私聊消息，不等待发送结果。</p> <ul><li><strong>userId:</strong> <code>number</code> 对方 QQ 号</li> <li><strong>message:</strong> <code>string</code> 要发送的内容</li> <li><strong>autoEsacpe:</strong> <code>boolean</code> 消息内容是否作为纯文本发送（即不解析 CQ 码）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-sendgroupmsg"><a href="#sender-sendgroupmsg" class="header-anchor">#</a> sender.sendGroupMsg(groupId, message, autoEscape?)</h3> <p>发送群消息。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>message:</strong> <code>string</code> 要发送的内容</li> <li><strong>autoEsacpe:</strong> <code>boolean</code> 消息内容是否作为纯文本发送（即不解析 CQ 码）</li> <li>返回值: <code>Promise&lt;number&gt;</code> 新信息的 messageId</li></ul> <h3 id="sender-sendgroupmsgasync"><a href="#sender-sendgroupmsgasync" class="header-anchor">#</a> sender.sendGroupMsgAsync(groupId, message, autoEscape?)</h3> <p>发送群消息，不等待发送结果。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>message:</strong> <code>string</code> 要发送的内容</li> <li><strong>autoEsacpe:</strong> <code>boolean</code> 消息内容是否作为纯文本发送（即不解析 CQ 码）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-senddiscussmsg"><a href="#sender-senddiscussmsg" class="header-anchor">#</a> sender.sendDiscussMsg(discussId, message, autoEscape?)</h3> <p>发送讨论组信息。</p> <ul><li><strong>discussId:</strong> <code>number</code> 讨论组 ID</li> <li><strong>message:</strong> <code>string</code> 要发送的内容</li> <li><strong>autoEsacpe:</strong> <code>boolean</code> 消息内容是否作为纯文本发送（即不解析 CQ 码）</li> <li>返回值: <code>Promise&lt;number&gt;</code> 新信息的 messageId</li></ul> <h3 id="sender-senddiscussmsgasync"><a href="#sender-senddiscussmsgasync" class="header-anchor">#</a> sender.sendDiscussMsgAsync(discussId, message, autoEscape?)</h3> <p>发送讨论组信息，不等待发送结果。</p> <ul><li><strong>discussId:</strong> <code>number</code> 讨论组 ID</li> <li><strong>message:</strong> <code>string</code> 要发送的内容</li> <li><strong>autoEsacpe:</strong> <code>boolean</code> 消息内容是否作为纯文本发送（即不解析 CQ 码）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-deletemsg"><a href="#sender-deletemsg" class="header-anchor">#</a> sender.deleteMsg(messageId) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.3</span></h3> <p>撤回信息。</p> <ul><li><strong>messageId:</strong> <code>number</code> 消息 ID</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-deletemsgasync"><a href="#sender-deletemsgasync" class="header-anchor">#</a> sender.deleteMsgAsync(messageId) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.3</span></h3> <p>撤回信息，不等待处理完成。</p> <ul><li><strong>messageId:</strong> <code>number</code> 消息 ID</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-sendlike"><a href="#sender-sendlike" class="header-anchor">#</a> sender.sendLike(userId, times?)</h3> <p>给好友点赞。</p> <ul><li><strong>userId:</strong> <code>number</code> 好友 QQ 号</li> <li><strong>times:</strong> <code>number</code> 点赞次数</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>由于 CoolQ 的限制，本方法和下面的方法只能由四季酱的好友使用。</p></div> <h3 id="sender-sendlikeasync"><a href="#sender-sendlikeasync" class="header-anchor">#</a> sender.sendLikeAsync(userId, times?)</h3> <p>给好友点赞，不等待处理完成。</p> <ul><li><strong>userId:</strong> <code>number</code> 好友 QQ 号</li> <li><strong>times:</strong> <code>number</code> 点赞次数</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-sendgroupnotice"><a href="#sender-sendgroupnotice" class="header-anchor">#</a> sender.sendGroupNotice(groupId, title, content) <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.9</span></h3> <p>发布群公告。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>title:</strong> <code>string</code> 标题</li> <li><strong>content:</strong> <code>string</code> 内容</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-sendgroupnoticeasync"><a href="#sender-sendgroupnoticeasync" class="header-anchor">#</a> sender.sendGroupNoticeAsync(groupId, title, content) <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.9</span></h3> <p>发布群公告，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>title:</strong> <code>string</code> 标题</li> <li><strong>content:</strong> <code>string</code> 内容</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h2 id="操作群和讨论组"><a href="#操作群和讨论组" class="header-anchor">#</a> 操作群和讨论组</h2> <h3 id="sender-setgroupkick"><a href="#sender-setgroupkick" class="header-anchor">#</a> sender.setGroupKick(groupId, userId, rejectAddRequest?)</h3> <p>踢出群聊或拒绝加群。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>rejectAddRequest:</strong> <code>boolean</code> 拒绝此人的加群请求</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupkickasync"><a href="#sender-setgroupkickasync" class="header-anchor">#</a> sender.setGroupKickAsync(groupId, userId, rejectAddRequest?)</h3> <p>踢出群聊或拒绝加群，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>rejectAddRequest:</strong> <code>boolean</code> 拒绝此人的加群请求</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupban"><a href="#sender-setgroupban" class="header-anchor">#</a> sender.setGroupBan(groupId, userId, duration?)</h3> <p>群组单人禁言。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>duration:</strong> <code>number</code> 禁言时长（秒），设为 0 表示解除禁言</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupbanasync"><a href="#sender-setgroupbanasync" class="header-anchor">#</a> sender.setGroupBanAsync(groupId, userId, duration?)</h3> <p>群组单人禁言，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>duration:</strong> <code>number</code> 禁言时长（秒），设为 0 表示解除禁言</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupanonymousban"><a href="#sender-setgroupanonymousban" class="header-anchor">#</a> sender.setGroupAnonymousBan(groupId, anonymous, duration?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.2</span></h3> <p>群组匿名用户禁言。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>anonymous:</strong> <code>object | string</code> 匿名用户的信息或 flag，参见 <a href="/guide/receive-and-send.html#message-型元数据属性">Message 型元数据属性</a></li> <li><strong>duration:</strong> <code>number</code> 禁言时长（秒），设为 0 表示解除禁言</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupanonymousbanasync"><a href="#sender-setgroupanonymousbanasync" class="header-anchor">#</a> sender.setGroupAnonymousBanAsync(groupId, anonymous, duration?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.2</span></h3> <p>群组匿名用户禁言，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>anonymous:</strong> <code>object | string</code> 匿名用户的信息或 flag，参见 <a href="/guide/receive-and-send.html#message-型元数据属性">Message 型元数据属性</a></li> <li><strong>duration:</strong> <code>number</code> 禁言时长（秒），设为 0 表示解除禁言</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupwholeban"><a href="#sender-setgroupwholeban" class="header-anchor">#</a> sender.setGroupWholeBan(groupId, enable?)</h3> <p>群组全员禁言。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>enable:</strong> <code>boolean</code> 是否禁言，默认为 <code>true</code></li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupwholebanasync"><a href="#sender-setgroupwholebanasync" class="header-anchor">#</a> sender.setGroupWholeBanAsync(groupId, enable?)</h3> <p>群组全员禁言，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>enable:</strong> <code>boolean</code> 是否禁言，默认为 <code>true</code></li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupadmin"><a href="#sender-setgroupadmin" class="header-anchor">#</a> sender.setGroupAdmin(groupId, userId, enable?)</h3> <p>群组设置管理员。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>enable:</strong> <code>boolean</code> 是否设置为管理员，默认为 <code>true</code></li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupadminasync"><a href="#sender-setgroupadminasync" class="header-anchor">#</a> sender.setGroupAdminAsync(groupId, userId, enable?)</h3> <p>群组设置管理员，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>enable:</strong> <code>boolean</code> 是否设置为管理员，默认为 <code>true</code></li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupanonymous"><a href="#sender-setgroupanonymous" class="header-anchor">#</a> sender.setGroupAnonymous(groupId, enable?)</h3> <p>群组设置匿名。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>enable:</strong> <code>boolean</code> 是否允许匿名，默认为 <code>true</code></li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupanonymousasync"><a href="#sender-setgroupanonymousasync" class="header-anchor">#</a> sender.setGroupAnonymousAsync(groupId, enable?)</h3> <p>群组设置匿名，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>enable:</strong> <code>boolean</code> 是否允许匿名，默认为 <code>true</code></li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupcard"><a href="#sender-setgroupcard" class="header-anchor">#</a> sender.setGroupCard(groupId, userId, card?)</h3> <p>设置群名片。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>card:</strong> <code>string</code> 群名片</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupcardasync"><a href="#sender-setgroupcardasync" class="header-anchor">#</a> sender.setGroupCardAsync(groupId, userId, card?)</h3> <p>设置群名片，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>card:</strong> <code>string</code> 群名片</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupleave"><a href="#sender-setgroupleave" class="header-anchor">#</a> sender.setGroupLeave(groupId, isDismiss?)</h3> <p>退出群组。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>isDismiss:</strong> <code>boolean</code> 是否解散群（仅对群主生效）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupleaveasync"><a href="#sender-setgroupleaveasync" class="header-anchor">#</a> sender.setGroupLeaveAsync(groupId, isDismiss?)</h3> <p>退出群组，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>isDismiss:</strong> <code>boolean</code> 是否解散群（仅对群主生效）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupspecialtitle"><a href="#sender-setgroupspecialtitle" class="header-anchor">#</a> sender.setGroupSpecialTitle(groupId, userId, specialTitle?, duration?)</h3> <p>设置群组专属头衔。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>specialTitle:</strong> <code>string</code> 专属头衔</li> <li><strong>duration:</strong> <code>number</code> 有效时长（秒，目前可能没用）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupspecialtitleasync"><a href="#sender-setgroupspecialtitleasync" class="header-anchor">#</a> sender.setGroupSpecialTitleAsync(groupId, userId, specialTitle?, duration?)</h3> <p>设置群组专属头衔，不等待处理完成。</p> <ul><li><strong>groupId:</strong> <code>number</code> 群号</li> <li><strong>userId:</strong> <code>number</code> QQ 号</li> <li><strong>specialTitle:</strong> <code>string</code> 专属头衔</li> <li><strong>duration:</strong> <code>number</code> 有效时长（秒，目前可能没用）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setdiscussleave"><a href="#sender-setdiscussleave" class="header-anchor">#</a> sender.setDiscussLeave(discussId)</h3> <p>退出讨论组。</p> <ul><li><strong>discussId:</strong> <code>number</code> 讨论组 ID</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setdiscussleaveasync"><a href="#sender-setdiscussleaveasync" class="header-anchor">#</a> sender.setDiscussLeaveAsync(discussId)</h3> <p>退出讨论组，不等待处理完成。</p> <ul><li><strong>discussId:</strong> <code>number</code> 讨论组 ID</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h2 id="处理请求"><a href="#处理请求" class="header-anchor">#</a> 处理请求</h2> <h3 id="sender-setfriendaddrequest"><a href="#sender-setfriendaddrequest" class="header-anchor">#</a> sender.setFriendAddRequest(flag, approve?, remark?)</h3> <p>处理加好友请求。</p> <ul><li><strong>flag:</strong> <code>string</code> 加好友请求的 flag（需从上报的数据中获得）</li> <li><strong>approve:</strong> <code>boolean</code> 是否同意请求，默认为 <code>true</code></li> <li><strong>remark:</strong> <code>string</code> 好友备注名（仅当同意时有效）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setfriendaddrequestasync"><a href="#sender-setfriendaddrequestasync" class="header-anchor">#</a> sender.setFriendAddRequestAsync(flag, approve?, remark?)</h3> <p>处理加好友请求，不等待处理完成。</p> <ul><li><strong>flag:</strong> <code>string</code> 加好友请求的 flag（需从上报的数据中获得）</li> <li><strong>approve:</strong> <code>boolean</code> 是否同意请求，默认为 <code>true</code></li> <li><strong>remark:</strong> <code>string</code> 好友备注名（仅当同意时有效）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupaddrequest"><a href="#sender-setgroupaddrequest" class="header-anchor">#</a> sender.setGroupAddRequest(flag, subType, approve?, reason?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.2</span></h3> <p>处理加群请求或邀请。</p> <ul><li><strong>flag:</strong> <code>string</code> 加群请求的 flag（需从上报的数据中获得）</li> <li><strong>subType:</strong> <code>'add' | 'invite'</code> 子类型，参见 <a href="/guide/receive-and-send.html#request-型元数据属性">Request 型元数据属性</a></li> <li><strong>approve:</strong> <code>boolean</code> 是否同意请求，默认为 <code>true</code></li> <li><strong>reason:</strong> <code>string</code> 拒绝理由（仅当拒绝时有效）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-setgroupaddrequestasync"><a href="#sender-setgroupaddrequestasync" class="header-anchor">#</a> sender.setGroupAddRequestAsync(flag, subType, approve?, reason?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.2</span></h3> <p>处理加群请求或邀请，不等待处理完成。</p> <ul><li><strong>flag:</strong> <code>string</code> 加群请求的 flag（需从上报的数据中获得）</li> <li><strong>subType:</strong> <code>'add' | 'invite'</code> 子类型，参见 <a href="/guide/receive-and-send.html#request-型元数据属性">Request 型元数据属性</a></li> <li><strong>approve:</strong> <code>boolean</code> 是否同意请求，默认为 <code>true</code></li> <li><strong>reason:</strong> <code>string</code> 拒绝理由（仅当拒绝时有效）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h2 id="获取账号信息"><a href="#获取账号信息" class="header-anchor">#</a> 获取账号信息</h2> <h3 id="sender-getlogininfo"><a href="#sender-getlogininfo" class="header-anchor">#</a> sender.getLoginInfo()</h3> <p>获取登录号信息。</p> <ul><li>返回值: <code>Promise&lt;AccountInfo&gt;</code> 登录号信息</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>AccountInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  userId</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  nickname</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getvipinfo"><a href="#sender-getvipinfo" class="header-anchor">#</a> sender.getVipInfo() <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.3.1</span></h3> <p>获取会员信息。</p> <ul><li>返回值: <code>Promise&lt;VipInfo&gt;</code> 会员信息</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>VipInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>extends</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>AccountInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  level</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  levelSpeed</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  vipLevel</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  vipGrowthSpeed</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  vipGrowthTotal</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getstrangerinfo"><a href="#sender-getstrangerinfo" class="header-anchor">#</a> sender.getStrangerInfo(userId, noCache?)</h3> <p>获取陌生人信息。</p> <ul><li><strong>userId:</strong> <code>number</code> 目标 QQ 号</li> <li><strong>noCache:</strong> <code>boolean</code> 是否不使用缓存，默认为 <code>false</code></li> <li>返回值: <code>Promise&lt;StrangerInfo&gt;</code> 陌生人信息</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>StrangerInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>extends</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>AccountInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  sex</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'male'</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>|</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'female'</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>|</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'unknown'</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  age</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getfriendlist"><a href="#sender-getfriendlist" class="header-anchor">#</a> sender.getFriendList() <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.12</span></h3> <p>获取好友列表。</p> <ul><li>返回值: <code>Promise&lt;FriendInfo[]&gt;</code> 好友列表</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>FriendInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>extends</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>AccountInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  remark</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getgrouplist"><a href="#sender-getgrouplist" class="header-anchor">#</a> sender.getGroupList()</h3> <p>获取群列表。</p> <ul><li>返回值: <code>Promise&lt;ListedGroupInfo[]&gt;</code> 群信息列表</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>ListedGroupInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  groupId</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  groupName</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getgroupinfo"><a href="#sender-getgroupinfo" class="header-anchor">#</a> sender.getGroupInfo(groupId, noCache?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.12</span></h3> <p>获取群信息。</p> <ul><li><strong>groupId:</strong> <code>number</code> 目标群号</li> <li><strong>noCache:</strong> <code>boolean</code> 是否不使用缓存，默认为 <code>false</code></li> <li>返回值: <code>Promise&lt;GroupInfo&gt;</code> 群信息</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>GroupInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>extends</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>ListedGroupInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  memberCount</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  maxMemberCount</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getgroupmemberinfo"><a href="#sender-getgroupmemberinfo" class="header-anchor">#</a> sender.getGroupMemberInfo(groupId, userId, noCache?)</h3> <p>获取群成员信息。</p> <ul><li><strong>groupId:</strong> <code>number</code> 目标群号</li> <li><strong>userId:</strong> <code>number</code> 目标 QQ 号</li> <li><strong>noCache:</strong> <code>boolean</code> 是否不使用缓存，默认为 <code>false</code></li> <li>返回值: <code>Promise&lt;GroupMemberInfo&gt;</code> 群成员信息</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>SenderInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>extends</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>StrangerInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  area</span><span style="color:#F92672;" data-v-156a57d4>?:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  card</span><span style="color:#F92672;" data-v-156a57d4>?:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  level</span><span style="color:#F92672;" data-v-156a57d4>?:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  role</span><span style="color:#F92672;" data-v-156a57d4>?:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'owner'</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>|</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'admin'</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>|</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'member'</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  title</span><span style="color:#F92672;" data-v-156a57d4>?:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span>

<span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>GroupMemberInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>extends</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>SenderInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  cardChangeable</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  groupId</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  joinTime</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  lastSentTime</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  titleExpireTime</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  unfriendly</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getgroupmemberlist"><a href="#sender-getgroupmemberlist" class="header-anchor">#</a> sender.getGroupMemberList(groupId)</h3> <p>获取群成员列表。</p> <ul><li><strong>groupId:</strong> <code>number</code> 目标群号</li> <li>返回值: <code>Promise&lt;GroupMemberInfo[]&gt;</code> 群成员列表</li></ul> <h3 id="sender-getgroupnotice"><a href="#sender-getgroupnotice" class="header-anchor">#</a> sender.getGroupNotice(groupId) <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.9</span></h3> <p>获取群公告列表。部分字段具体含义可能需要自行理解。</p> <ul><li><strong>groupId:</strong> <code>number</code> 目标群号</li> <li>返回值: <code>Promise&lt;GroupNoticeInfo[]&gt;</code> 群公告列表</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>GroupNoticeInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  cn</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  fid</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  fn</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  msg</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>    text</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>    textFace</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>    title</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  }</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pubt</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  readNum</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  settings</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>    isShowEditCard</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>    remindTs</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  }</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  u</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  vn</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getcookies"><a href="#sender-getcookies" class="header-anchor">#</a> sender.getCookies(domain?)</h3> <p>获取 Cookies。</p> <ul><li><strong>domain:</strong> <code>string</code> 需要获取 cookies 的域名 <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.11</span></li> <li>返回值: <code>Promise&lt;string&gt;</code> cookies</li></ul> <h3 id="sender-getcsrftoken"><a href="#sender-getcsrftoken" class="header-anchor">#</a> sender.getCsrfToken()</h3> <p>获取 CSRF Token。</p> <ul><li>返回值: <code>Promise&lt;string&gt;</code> CSRF Token</li></ul> <h3 id="sender-getcredentials"><a href="#sender-getcredentials" class="header-anchor">#</a> sender.getCredentials() <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.3</span></h3> <p>获取 QQ 相关接口凭证，相当于上面两个接口的合并。</p> <ul><li><strong>domain:</strong> <code>string</code> 需要获取 cookies 的域名 <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.13</span></li> <li>返回值: <code>Promise&lt;Credentials&gt;</code> 接口凭证</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>Credentials</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  cookies</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  csrfToken</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h2 id="其他操作"><a href="#其他操作" class="header-anchor">#</a> 其他操作</h2> <h3 id="sender-getrecord"><a href="#sender-getrecord" class="header-anchor">#</a> sender.getRecord(file, outFormat, fullPath?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.3</span></h3> <p>获取语音：并不是真的获取语音，而是转换语音到指定的格式，然后返回 <code>data/record</code> 目录下的语音文件名。注意，要使用此接口，需要安装 CoolQ 的 <a href="https://cqp.cc/t/21132" target="_blank" rel="noopener noreferrer">语音组件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <ul><li><strong>file:</strong> <code>string</code> 语音文件名</li> <li><strong>outFormat:</strong> <code>'mp3' | 'amr' | 'wma' | 'm4a' | 'spx' | 'ogg' | 'wav' | 'flac'</code></li> <li><strong>fullPath:</strong> <code>boolean</code> 是否返回文件的绝对路径 <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.8</span></li> <li>返回值: <code>Promise&lt;string&gt;</code> 语音文件名</li></ul> <h3 id="sender-getimage"><a href="#sender-getimage" class="header-anchor">#</a> sender.getImage(file) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.8</span></h3> <p>获取图片：与上面类似，不过返回 <code>data/image</code> 目录下的图片路径。</p> <ul><li><strong>file:</strong> <code>string</code> 图片文件名</li> <li>返回值: <code>Promise&lt;string&gt;</code> 图片的完整路径</li></ul> <h3 id="sender-cansendimage"><a href="#sender-cansendimage" class="header-anchor">#</a> sender.canSendImage() <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.8</span></h3> <p>检查是否可以发送图片。</p> <ul><li>返回值: <code>Promise&lt;boolean&gt;</code> 是否可以发送图片</li></ul> <h3 id="sender-cansendrecord"><a href="#sender-cansendrecord" class="header-anchor">#</a> sender.canSendRecord() <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.8</span></h3> <p>检查是否可以发送语音。</p> <ul><li>返回值: <code>Promise&lt;boolean&gt;</code> 是否可以发送语音</li></ul> <h3 id="sender-getstatus"><a href="#sender-getstatus" class="header-anchor">#</a> sender.getStatus()</h3> <p>获取插件运行状态。</p> <ul><li>返回值: <code>Promise&lt;StatusInfo&gt;</code> 插件运行状态</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>StatusInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  appInitialized</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  appEnabled</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginsGood</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  appGood</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  online</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  good</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>boolean</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-getversioninfo"><a href="#sender-getversioninfo" class="header-anchor">#</a> sender.getVersionInfo()</h3> <p>获取 CoolQ 及 CQHTTP 插件的版本信息。</p> <ul><li>返回值: <code>Promise&lt;VersionInfo&gt;</code> 插件版本信息</li></ul> <div class="code-container" data-v-156a57d4><div class="controls" data-v-156a57d4><svg xmlns="http://www.w3.org/2000/svg" width="52" height="12" viewBox="0 0 52 12" data-v-156a57d4><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5" data-v-156a57d4></circle> <circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5" data-v-156a57d4></circle> <circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5" data-v-156a57d4></circle></svg> <div class="title" data-v-156a57d4></div></div> <pre class="shiki" style="background-color:#272822;" data-v-156a57d4><code data-v-156a57d4><span style="color:#F92672;" data-v-156a57d4>export</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>interface</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#A6E22E;" data-v-156a57d4>VersionInfo</span><span style="color:#F8F8F2;" data-v-156a57d4> {</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  coolqDirectory</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  coolqEdition</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'air'</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>|</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'pro'</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginVersion</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>string</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginMajorVersion</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginMinorVersion</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginPatchVersion</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginBuildNumber</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#66D9EF;" data-v-156a57d4>number</span>
<span style="color:#F8F8F2;" data-v-156a57d4>  pluginBuildConfiguration</span><span style="color:#F92672;" data-v-156a57d4>:</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'debug'</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#F92672;" data-v-156a57d4>|</span><span style="color:#F8F8F2;" data-v-156a57d4> </span><span style="color:#E6DB74;" data-v-156a57d4>'release'</span>
<span style="color:#F8F8F2;" data-v-156a57d4>}</span></code></pre></div><h3 id="sender-setrestart"><a href="#sender-setrestart" class="header-anchor">#</a> sender.setRestart(cleanLog?, cleanCache?, cleanEvent?) <span class="badge warn" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.0.2</span></h3> <p>重启 CoolQ，并以当前登录号自动登录（需勾选快速登录）。</p> <ul><li><strong>cleanLog:</strong> <code>boolean</code> 是否在重启时清空 CoolQ 的日志数据库（log*.db）</li> <li><strong>cleanCache:</strong> <code>boolean</code> 是否在重启时清空 CoolQ 的缓存数据库（cache.db）</li> <li><strong>cleanEvent:</strong> <code>boolean</code> 是否在重启时清空 CoolQ 的事件数据库（eventv2.db）</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">警告</p> <p>由于强行退出可能导致 CoolQ 数据库损坏而影响功能，此接口除非必要请尽量避免使用。</p></div> <h3 id="sender-setrestartplugin"><a href="#sender-setrestartplugin" class="header-anchor">#</a> sender.setRestartPlugin(delay?) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.2</span></h3> <p>重启 HTTP API 插件。</p> <ul><li><strong>delay:</strong> <code>string</code> 要延迟的毫秒数，如果默认情况下无法重启，可以尝试设置延迟为 2000 左右</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-cleandatadir"><a href="#sender-cleandatadir" class="header-anchor">#</a> sender.cleanDataDir(dataDir) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.3.4</span></h3> <p>清理积攒了太多旧文件的数据目录。</p> <ul><li><strong>dataDir:</strong> <code>'image' | 'record' | 'show' | 'bface'</code> 要清理的目录名</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-cleandatadirasync"><a href="#sender-cleandatadirasync" class="header-anchor">#</a> sender.cleanDataDirAsync(dataDir) <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 3.3.4</span></h3> <p>清理积攒了太多旧文件的数据目录，不等待清理完成。</p> <ul><li><strong>dataDir:</strong> <code>'image' | 'record' | 'show' | 'bface'</code> 要清理的目录名</li> <li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-cleanpluginlog"><a href="#sender-cleanpluginlog" class="header-anchor">#</a> sender.cleanPluginLog() <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.1</span></h3> <p>清空插件的日志文件。</p> <ul><li>返回值: <code>Promise&lt;void&gt;</code></li></ul> <h3 id="sender-cleanpluginlogasync"><a href="#sender-cleanpluginlogasync" class="header-anchor">#</a> sender.cleanPluginLogAsync() <span class="badge tip" style="vertical-align:top;" data-v-c13ee5b0>CQHTTP 4.1</span></h3> <p>清空插件的日志文件，不等待清理完成。</p> <ul><li>返回值: <code>Promise&lt;void&gt;</code></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/koishijs/koishijs.github.io/edit/docs/api/sender.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/31/2019, 3:16:45 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/receiver.html" class="prev">接收器 (Receiver)</a></span> <span class="next"><a href="/api/command.html">指令 (Command)</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.3f171bfd.js" defer></script><script src="/assets/js/2.3565e134.js" defer></script><script src="/assets/js/7.7ead5f91.js" defer></script><script src="/assets/js/23.6940fd73.js" defer></script><script src="/assets/js/6.b31803c1.js" defer></script><script src="/assets/js/5.eca008f9.js" defer></script>
  </body>
</html>
